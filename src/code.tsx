const { widget } = figma
const { useEffect, usePropertyMenu, useSyncedState, Frame, Rectangle, SVG } = widget

const hand = `
<svg width="50" height="50" viewBox="0 0 128 198" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M34.0101 170.999C38.4617 176.236 37.3924 188.02 36.3013 193.257L64.4513 195.548L122.388 190.638C123.042 151.141 124.286 70.3138 124.024 62.9817C123.697 53.8166 115.187 44.3242 107.986 44.3242C102.225 44.3242 95.329 50.4342 92.6013 53.4893C89.5462 50.9798 82.3887 45.9608 78.199 45.9608C74.0092 45.9608 70.125 50.9798 68.7065 53.4893C66.1971 51.5253 59.8688 47.6629 54.6316 47.9247C49.3944 48.1866 44.1572 51.7435 42.1932 53.4893C42.7388 45.0879 43.8299 26.6485 43.8299 20.1021C43.8299 11.9192 43.1752 3.40838 34.0101 2.75373C24.8449 2.09908 21.8991 19.12 21.8991 28.2851V86.2218C20.6989 85.7854 17.0547 85.7636 12.0793 89.1678C5.86007 93.423 4.55082 96.3689 3.24153 116.99C1.93223 137.612 7.49675 150.05 12.0793 156.924C16.6618 163.798 28.4455 164.452 34.0101 170.999Z" fill="#DA9267"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M33.1917 0.0273937C30.449 0.341953 26.3391 2.31049 25.9653 3.48853C25.8642 3.80669 25.4387 4.47443 25.0194 4.97262C23.1513 7.19253 22.1157 10.2262 21.4178 15.5197C21.3111 16.3298 21.1504 17.3609 21.0607 17.8109C20.9713 18.261 20.8198 19.4394 20.7245 20.4295C20.6293 21.4197 20.4869 22.6717 20.408 23.2118C19.8002 27.3773 19.2146 50.2184 19.2152 69.745L19.2159 82.891L17.2628 83.7381C16.1881 84.2039 15.0386 84.5852 14.7077 84.5852C13.9267 84.5852 10.3251 86.6244 8.90681 87.8699C8.29864 88.4038 7.67509 88.8404 7.52092 88.8404C7.36642 88.8404 7.13925 89.2437 7.01552 89.7366C6.8918 90.2296 6.14713 91.4986 5.3609 92.5565C4.57499 93.6145 3.84473 94.9418 3.73868 95.5064C3.43099 97.1443 2.22251 101.708 1.90664 102.424C1.74789 102.784 1.54986 104.036 1.46606 105.207C1.38259 106.377 1.14332 108.292 0.934813 109.462C0.432042 112.28 0.339737 113.2 0.111592 117.645C-0.226207 124.235 0.247104 135.016 0.938414 136.466C1.19864 137.012 1.42744 138.871 1.6127 141.941C1.63136 142.252 2.23724 143.715 2.95932 145.193C3.68139 146.67 4.48072 148.494 4.73603 149.246C5.14257 150.444 5.81522 151.746 7.26429 154.142C8.49994 156.185 12.8638 160.901 14.8615 162.352C15.5816 162.875 16.2886 163.488 16.4327 163.714C16.5767 163.94 16.8997 164.125 17.1505 164.125C17.4012 164.125 17.7992 164.398 18.0343 164.732C18.2696 165.066 19.7877 165.961 21.408 166.722C25.9401 168.848 26.8943 169.317 27.9466 169.935C28.9924 170.55 31.0441 172.621 31.0565 173.075C31.0608 173.227 31.3587 173.725 31.7187 174.183C32.0788 174.641 32.3734 175.408 32.3734 175.888C32.3734 176.367 32.5109 176.9 32.6788 177.071C32.9511 177.348 33.3013 183.858 33.4617 191.62C33.5262 194.745 33.628 195.004 35.0944 195.772C36.4165 196.464 37.2197 196.532 45.8461 196.681C50.2656 196.757 53.1968 196.943 53.6285 197.174C54.0452 197.397 55.7853 197.524 57.9951 197.493C60.0156 197.465 62.921 197.551 64.4512 197.684C65.9814 197.818 68.1172 197.87 69.1974 197.801C70.2776 197.732 72.5607 197.717 74.2709 197.768C81.389 197.979 83.3833 197.893 87.6913 197.187C89.0415 196.966 93.1746 196.754 96.876 196.716C100.577 196.677 103.818 196.509 104.077 196.343C104.456 196.099 107.832 195.859 110.604 195.879C112.38 195.891 113.825 195.81 117.15 195.512C124.211 194.878 124.2 194.881 125.053 193.067C125.614 191.872 125.743 190.802 125.864 186.315C125.943 183.382 126.091 179.141 126.194 176.891C126.297 174.64 126.438 171.4 126.507 169.69C126.875 160.624 126.958 158.808 127.128 156.106C127.285 153.613 127.535 147.438 127.749 140.721C127.778 139.821 127.698 137.17 127.572 134.83C126.832 121.107 126.823 120.347 127.275 110.771C127.441 107.261 127.525 103.726 127.462 102.915C127.399 102.105 127.357 100.853 127.369 100.133C127.521 91.0725 127.641 87.6084 127.88 85.4035C128.041 83.9165 128.04 82.3234 127.878 81.7169C127.72 81.1293 127.68 80.5061 127.788 80.3316C127.895 80.1575 127.814 79.0917 127.607 77.9631C127.4 76.8345 127.193 73.8316 127.147 71.2899C127.1 68.7482 126.952 66.4904 126.817 66.2724C126.683 66.0544 126.526 65.0151 126.469 63.9628C126.412 62.9101 126.201 61.7435 126.001 61.3697C125.801 60.9962 125.722 60.6905 125.825 60.6905C125.927 60.6905 125.877 60.4326 125.713 60.1177C125.549 59.8028 125.328 58.7203 125.221 57.7125C125.004 55.6517 124.517 54.144 124.068 54.144C123.903 54.144 123.669 53.7479 123.547 53.2638C123.274 52.1758 122.595 51.219 120.456 48.9068C119.541 47.9166 118.79 46.9962 118.789 46.861C118.788 46.7258 118.573 46.6155 118.312 46.6155C118.051 46.6155 117.72 46.41 117.576 46.1586C117.432 45.9075 116.418 45.1783 115.322 44.538C112.207 42.7178 107.071 41.9721 103.403 42.8078C99.6484 43.6631 97.894 44.2398 96.9041 44.9449C96.3722 45.3236 95.805 45.6336 95.6433 45.6336C95.2636 45.6336 92.8172 48.2067 92.3363 49.1124C91.9832 49.7768 91.8516 49.6996 89.469 47.4224C87.0265 45.0886 86.906 45.0198 83.9817 44.2974C81.2996 43.6346 80.7353 43.596 78.4957 43.9223C75.0333 44.427 72.6896 45.3324 71.22 46.733C70.5319 47.3883 69.8527 47.9248 69.7107 47.9248C69.5683 47.9248 69.1064 48.5765 68.6838 49.3729L67.9156 50.8213L66.331 49.2115C65.4597 48.3265 64.3487 47.5075 63.8623 47.3923C63.3763 47.2767 62.7521 46.9867 62.4755 46.7478C62.1989 46.5088 61.3282 46.2326 60.5407 46.1337C59.7531 46.0345 58.9345 45.809 58.7217 45.6326C58.509 45.4558 57.0229 45.2882 55.4193 45.2601C52.3088 45.2051 50.4849 45.6257 47.5969 47.063C46.6984 47.5104 45.9256 47.8384 45.8795 47.7923C45.629 47.5422 46.0431 28.8565 46.3263 27.6307C46.6123 26.3911 46.6176 14.3803 46.3328 11.6265C46.0169 8.56697 44.7783 6.05312 42.6069 4.06331C40.8141 2.42079 40.1866 1.97334 38.7562 1.31836C36.6993 0.376322 34.5321 -0.126449 33.1917 0.0273937ZM35.6466 5.85508C36.0967 6.11498 36.9356 6.57814 37.5104 6.88419C38.9938 7.67337 40.4148 9.81637 40.8514 11.9224C41.2838 14.0097 41.2848 24.3718 40.8527 28.8582C40.6927 30.5236 40.5666 33.5432 40.5732 35.5683C40.5797 37.5938 40.5738 39.4717 40.5598 39.7417C40.4321 42.2235 40.2721 57.0359 40.2449 68.8766L40.2115 83.4455L37.3562 83.4022C35.7857 83.3787 32.9544 83.2425 31.0641 83.1001C29.1738 82.9574 27.1411 82.8769 26.547 82.9211C25.9529 82.9653 25.276 82.8432 25.0429 82.6497C24.7055 82.3695 24.6384 79.3879 24.7133 67.9754C24.8894 41.1515 25.0825 34.4646 26.0256 22.4747C26.3162 18.7779 27.399 12.4399 28.0098 10.8586C29.5574 6.85211 33.2195 4.45282 35.6466 5.85508ZM108.799 47.9173C108.913 48.1013 109.391 48.2522 109.861 48.2522C110.331 48.2522 110.949 48.4489 111.233 48.6891C111.517 48.9297 112.265 49.3202 112.895 49.5575C114.804 50.2757 117.407 53.0471 118.658 55.6932C120.303 59.1707 121.72 66.3653 121.66 70.9433C121.639 72.6205 121.713 74.1403 121.824 74.3213C122.065 74.7105 122.082 75.5222 122.092 87.0401C122.096 91.9009 122.015 98.6765 121.911 102.097C121.808 105.518 121.741 108.611 121.762 108.971C121.84 110.278 121.824 111.023 121.606 116.172C121.474 119.29 121.537 123.529 121.763 126.646C122.155 132.073 122.191 133.058 122.124 136.63C122.103 137.8 122.099 140.23 122.116 142.031C122.133 143.831 122.049 147.219 121.928 149.559C121.808 151.9 121.66 154.993 121.6 156.433C121.54 157.873 121.391 160.819 121.27 162.979C121.035 167.16 120.746 176.408 120.589 184.747L120.493 189.82L119.559 189.891C119.044 189.931 117.813 190.041 116.823 190.136C113.499 190.456 109.796 190.522 108.494 190.284C107.775 190.153 106.833 190.195 106.367 190.38C105.273 190.813 103.693 190.985 99.3113 191.147C90.4293 191.477 86.6478 191.734 82.7814 192.273C81.1202 192.505 78.9019 192.571 77.2764 192.437C75.7789 192.313 73.7904 192.238 72.8576 192.27C71.1044 192.329 70.3106 192.323 69.6066 192.246C69.3817 192.221 68.4609 192.216 67.5608 192.234C66.6606 192.253 65.1877 192.194 64.2875 192.103C62.0287 191.873 59.9773 191.863 58.2055 192.072C57.2442 192.185 56.0111 192.041 54.7686 191.67C53.4953 191.289 52.1582 191.138 50.8672 191.228C48.7841 191.373 40.7797 191.343 39.8295 191.187C38.95 191.042 38.9143 190.896 39.1922 188.586C39.3483 187.289 39.328 186.189 39.1415 185.856C38.7539 185.163 38.5726 183.251 38.4917 179.004C38.4439 176.503 38.2917 175.507 37.8561 174.842C37.5412 174.361 37.2832 173.727 37.2832 173.433C37.2832 171.878 31.8493 165.107 30.6019 165.107C30.3302 165.107 29.8441 164.826 29.522 164.482C29.2 164.139 28.0992 163.576 27.0763 163.231C26.0531 162.887 25.022 162.449 24.785 162.259C24.5477 162.07 23.9857 161.802 23.5356 161.666C23.0855 161.53 22.2423 161.033 21.662 160.562C21.0817 160.092 19.9187 159.191 19.0774 158.561C16.6042 156.708 13.3885 153.417 13.3885 152.739C13.3885 152.394 12.9133 151.464 12.3323 150.672C10.3307 147.942 9.78797 147.074 9.78797 146.599C9.78797 146.337 9.65376 146.122 9.48977 146.122C9.03283 146.122 7.90748 143.517 7.65119 141.867C7.5255 141.057 7.29735 140.238 7.14416 140.047C6.99065 139.857 6.7805 139.046 6.67674 138.247C6.26333 135.064 6.16972 134.435 5.85156 132.702C5.66989 131.712 5.53471 129.797 5.55107 128.447C5.56777 127.097 5.58184 123.34 5.58282 120.1C5.58381 116.143 5.74354 113.456 6.06989 111.917C6.48886 109.94 7.04695 106.603 7.3291 104.388C7.37493 104.028 7.51633 103.488 7.64333 103.186C7.77066 102.886 7.90716 102.444 7.94676 102.204C7.9867 101.965 8.18276 101.473 8.38243 101.111C8.58243 100.749 8.8276 99.7911 8.92743 98.9832C9.1726 97.0013 9.46817 96.0327 10.1245 95.0596C10.4279 94.6095 10.9195 93.8397 11.2167 93.3487C11.9738 92.098 15.4428 89.9268 17.9711 89.1213C20.7075 88.249 25.2953 88.0182 29.9184 88.52C31.8988 88.735 34.2375 88.9321 35.1154 88.9576C36.4234 88.9956 36.8076 89.1501 37.243 89.8129C38.4089 91.5886 41.7486 94.4717 43.7404 95.4223C46.3901 96.6871 51.37 97.2595 54.2076 96.6255C55.1879 96.4065 55.2396 96.4386 54.9961 97.1165C54.8531 97.5155 54.4262 97.9836 54.0478 98.1567C53.6698 98.3299 53.2315 98.7607 53.0737 99.1138C52.9163 99.4667 51.9134 100.391 50.8453 101.167C48.7056 102.723 40.6452 106.843 39.7415 106.843C39.4279 106.843 38.4151 107.08 37.4908 107.37C36.5664 107.659 35.1475 108.102 34.3373 108.353C33.5272 108.605 32.5416 108.81 32.1472 108.809C31.7528 108.808 31.339 108.955 31.2277 109.135C31.1164 109.315 30.3682 109.462 29.5649 109.462C28.5352 109.462 27.7198 109.716 26.802 110.324C25.6158 111.109 25.4996 111.313 25.4996 112.607C25.4996 114.476 26.2357 114.952 29.7476 115.353C31.2313 115.522 32.6133 115.796 32.8185 115.962C33.0238 116.128 34.2817 116.37 35.6139 116.501C37.1065 116.648 38.6322 117.039 39.5893 117.52C40.4436 117.948 41.2799 118.3 41.4478 118.3C41.9044 118.3 45.7862 119.869 47.1475 120.603C47.8022 120.957 48.5642 121.246 48.8408 121.246C49.1177 121.246 49.7605 121.582 50.2692 121.992C50.7782 122.403 51.7481 123.026 52.4246 123.377C53.1012 123.729 54.1958 124.497 54.8573 125.086C55.5185 125.674 56.1686 126.155 56.3018 126.155C56.4347 126.155 57.2065 126.818 58.0167 127.628C58.8268 128.439 59.6117 129.112 59.761 129.125C60.4506 129.183 66.3981 136.659 66.4073 137.479C66.4116 137.856 66.7143 138.436 67.0803 138.767C67.9817 139.583 69.5679 142.443 69.8436 143.749C69.967 144.334 70.1866 144.813 70.3319 144.813C70.4769 144.813 70.8432 145.334 71.1457 145.972C71.9885 147.748 73.577 149.396 74.447 149.396C77.0129 149.396 77.8061 147.645 76.5639 144.725C76.1632 143.783 75.6415 142.792 75.4041 142.522C75.1672 142.252 74.7256 141.294 74.4235 140.394C74.121 139.494 73.3201 137.941 72.6428 136.943C71.9659 135.944 71.3149 134.822 71.1964 134.449C71.0779 134.076 70.69 133.507 70.3345 133.185C69.9794 132.864 69.6884 132.427 69.6884 132.215C69.6884 132.003 69.0835 131.344 68.3444 130.749C67.605 130.155 66.804 129.2 66.5644 128.626C65.6554 126.451 56.6386 119.144 52.3402 117.099C51.35 116.628 50.319 116.073 50.0489 115.866C49.7789 115.659 48.9687 115.303 48.2486 115.076C47.0231 114.69 46.0821 114.324 42.5902 112.879C40.9689 112.207 41.0269 112.141 44.3207 110.893C45.5809 110.416 46.8329 109.844 47.103 109.622C47.373 109.4 48.846 108.637 50.3762 107.926C52.4057 106.984 53.8164 106.021 55.5902 104.366C59.1093 101.083 59.1201 101.072 59.7043 100.18C60.0618 99.6346 60.6686 99.2926 61.5397 99.1453C62.2552 99.0245 63.6083 98.4127 64.5461 97.7859C66.1739 96.6985 68.0495 94.8452 68.0511 94.3231C68.0524 93.8514 68.5686 94.0848 69.5938 95.0216C71.6072 96.8605 80.3202 99.085 81.5579 98.0762C81.7808 97.8946 82.6259 97.5564 83.436 97.3253C84.2462 97.0939 85.2998 96.637 85.7777 96.3097C86.2556 95.982 86.76 95.7142 86.8988 95.7142C87.435 95.7142 90.4513 92.221 90.8153 91.1782L91.1992 90.0787L91.899 91.5248C92.9288 93.6514 96.0816 95.784 99.3113 96.5385C100.618 96.8435 101.408 96.8268 103.229 96.4566C106.613 95.7683 107.903 95.0432 110.488 92.3755C113.714 89.0476 115.697 84.9433 116.371 80.2046C117.258 73.9737 117.58 61.0548 116.88 59.7904C115.787 57.8143 113.566 57.758 112.444 59.6784C111.886 60.6339 111.808 61.5681 111.72 68.3303C111.613 76.499 111.477 78.1068 110.815 79.0518C110.407 79.6351 110.345 79.6216 109.432 78.7451C107.623 77.0086 105.544 76.2754 102.605 76.3379C98.5146 76.425 97.5323 76.6603 96.0842 77.8996C95.3641 78.5163 94.6472 79.0207 94.4918 79.0207C94.3363 79.0207 94.2993 77.1425 94.4096 74.8473C94.5196 72.5521 94.6548 68.3172 94.7091 65.4367C94.8558 57.705 95.1258 55.6445 96.2734 53.5047C97.9009 50.4714 98.5241 49.9853 102.73 48.4718C104.919 47.6842 108.455 47.3608 108.799 47.9173ZM83.1087 49.497C85.7859 50.5631 88.0896 53.2874 88.8274 56.2598C89.5272 59.0797 89.1213 76.59 88.3214 78.0849C88.1548 78.3958 88.0186 78.9621 88.0186 79.3431C88.0186 79.9804 87.9332 79.9536 86.9548 79.0102C86.3695 78.4462 85.237 77.6957 84.4377 77.3422C82.7932 76.6149 78.117 76.1337 77.4715 76.6253C77.2414 76.8004 76.3203 77.2152 75.4244 77.5467C73.6759 78.1939 72.7914 78.8862 71.5355 80.5915L70.7404 81.6717L70.7872 69.2333C70.8229 59.771 70.9319 56.6975 71.2432 56.3862C71.4684 56.161 71.6524 55.7119 71.6524 55.3878C71.6524 55.0638 71.7636 54.7987 71.8998 54.7987C72.036 54.7987 72.3564 54.326 72.6121 53.7486C73.2687 52.2648 75.6781 50.0256 76.9563 49.7114C77.5498 49.5654 78.4034 49.3379 78.8535 49.206C80.0482 48.8561 81.8001 48.9759 83.1087 49.497ZM57.8821 51.058C61.8902 52.4537 63.9075 54.0517 64.5157 56.3135C64.7029 57.0107 64.9363 58.9066 65.0338 60.5268C65.2293 63.7641 65.2793 76.2983 65.1072 78.7896L64.9985 80.3585L64.1331 79.4109C63.5249 78.7451 62.4349 78.2037 60.4657 77.5903C58.9247 77.1098 57.4602 76.7837 57.2114 76.8659C56.9627 76.9477 55.4946 77.0826 53.949 77.1651C50.625 77.3431 48.011 78.3762 46.8411 79.9742C46.4267 80.5398 45.9849 80.9391 45.8592 80.8612C45.7331 80.7837 45.6467 75.4862 45.667 69.09C45.7001 58.7887 45.7655 57.3986 46.2398 56.9243C46.5348 56.6297 46.7757 55.9747 46.7757 55.4693C46.7757 53.8929 50.3497 51.3725 53.2904 50.875C55.6043 50.4835 56.3136 50.5117 57.8821 51.058ZM104.712 82.2704C106.441 82.9679 107.188 84.0824 107.417 86.3066C107.575 87.8346 107.549 87.8892 106.018 89.1707C105.16 89.8892 104.284 90.4771 104.072 90.4771C103.86 90.4771 103.366 90.6515 102.972 90.8646C101.169 91.8417 97.5018 90.7553 96.6672 88.9966C96.1929 87.9969 96.1912 87.7351 96.6498 86.1567C97.7418 82.4006 101.065 80.7984 104.712 82.2704ZM81.9968 82.3509C83.4344 82.8707 84.656 85.3302 84.8615 88.119C84.9931 89.9042 84.9214 90.2649 84.3267 90.8194C83.949 91.171 83.4099 91.4597 83.1287 91.4603C82.8478 91.461 82.1356 91.7556 81.5461 92.115C80.4093 92.8079 77.7367 93.0171 77.3805 92.441C77.2692 92.261 76.7819 92.1114 76.2974 92.1088C74.9033 92.1006 74.6153 91.7186 74.3921 89.5805C74.2353 88.0817 74.32 87.2306 74.7276 86.212C75.3724 84.6009 77.0804 82.3846 77.8316 82.1843C78.9124 81.8959 80.966 81.9781 81.9968 82.3509ZM60.121 83.3679C60.632 83.8572 61.2028 84.2579 61.3897 84.2579C61.9576 84.2579 63.7966 88.4257 63.7966 89.7131C63.7966 90.6253 62.63 92.7683 62.1331 92.7683C61.9678 92.7683 61.8212 92.2161 61.8071 91.5409C61.7462 88.5881 59.523 85.1335 57.0075 84.0824C56.3692 83.8157 54.7542 83.5914 53.3641 83.5767L50.8672 83.5502L52.0341 83.0039C52.8642 82.6154 54.0658 82.4605 56.1967 82.4677C59.0035 82.4772 59.2507 82.5339 60.121 83.3679ZM54.8904 89.3825L55.6403 89.683L54.8835 90.3942C54.2485 90.9906 52.1536 91.5697 50.8672 91.5045C48.6984 91.3949 46.4405 90.8181 45.5217 90.1389C44.5053 89.3874 44.4798 89.3236 45.1328 89.1691C46.3066 88.8921 54.091 89.0624 54.8904 89.3825ZM91.0463 106.924C90.6411 107.115 90.3099 107.398 90.3099 107.555C90.3099 107.711 89.9416 108.422 89.4916 109.135C89.0412 109.848 88.4264 111.047 88.1253 111.8C87.8242 112.552 86.9351 114.212 86.1499 115.489C85.3643 116.765 84.5922 118.03 84.4341 118.3C84.0246 118.998 82.4541 122.536 82.4541 122.76C82.4541 122.97 81.5768 125.034 81.1173 125.905C80.3111 127.434 81.2158 129.919 82.6462 130.106C84.4809 130.345 85.9983 128.906 86.871 126.1C87.2968 124.731 88.3796 122.257 88.9956 121.246C92.8172 114.972 95.185 110.324 95.0741 109.313C94.8806 107.551 92.5943 106.195 91.0463 106.924Z" fill="black"/>
</svg>
`

const updatePos = (start, end, width) => {
  const today = new Date()
  today.setUTCHours(0, 0, 0, 0)

  return Math.ceil((today.getTime() - start) / (end -  start) * width)
}

function Widget() {
  const [start, setStart] = useSyncedState('start', undefined)
  const [end, setEnd]     = useSyncedState('end', undefined)
  const [width, setWidth] = useSyncedState('width', 1000)
  // const [auto, setAuto]   = useSyncedState('auto', false)
  // const [autoI, setAutoI] = useSyncedState('autoI', undefined)
  const [pos, setPos]     = useSyncedState('pos', 0)

  usePropertyMenu(
    [
      {
        tooltip: 'Edit',
        propertyName: 'edit',
        itemType: 'action'
      },
      {
        tooltip: 'Update',
        propertyName: 'update',
        itemType: 'action'
      }
    ], 
    ({ propertyName }) => {
      if (propertyName === 'edit') {
        figma.showUI(__html__)
        figma.ui.postMessage({ start, end, width/*, auto*/ })
        return new Promise<void>(() => { })
      }

      if (propertyName === 'update') {
        setPos(updatePos(start, end, width))
      }
    }
  )

  useEffect(() => {
    figma.ui.onmessage = (msg) => {
      if (msg.type === 'save') {
        setStart(msg.start)
        setEnd(msg.end)
        setWidth(msg.width)
        // setAuto(msg.auto)
        setPos(updatePos(msg.start, msg.end, msg.width))

        figma.notify('Saved settings.')
        figma.closePlugin()
      }
    }
  })

  return (
    <Frame
      width={width+50}
      height={50}
    >
      <Rectangle
        width={width}
        height={3}
        fill="#000000"
        cornerRadius={5}
        x={25}
        y={25}
      ></Rectangle>
      <SVG
        src={hand}
        width={50}
        height={50}
        x={pos+10}
        y={0}
      ></SVG>
    </Frame>
  )
}

widget.register(Widget)

